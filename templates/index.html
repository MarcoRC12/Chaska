<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CHASKA - Turismo en Lamas</title>
    <link rel="stylesheet" href="../static/css/styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <script src="https://cdn.socket.io/4.3.2/socket.io.min.js"></script>
<script>
  const socket = io();

  socket.on("connect", () => {
    console.log("‚úÖ Socket conectado");
  });

  // üß† Detecta redirecciones por sensor o botones GPIO f√≠sicos
  socket.on("redirigir", (data) => {
    if (data.pagina) {
      console.log("üîÅ Redirigiendo a:", data.pagina);
      window.location.href = data.pagina;
    }
  });

  // üéØ Clics en botones virtuales
  document.querySelectorAll(".btn").forEach((btn) => {
    btn.addEventListener("click", () => {
      const lang = btn.dataset.lang;
      if (lang === "es") {
        window.location.href = "es.html";
      } else if (lang === "en") {
        window.location.href = "en.html";
      } else if (lang === "quechua") {
        window.location.href = "quechua.html";
      }
    });
  });
</script>

  <body>
    <div class="background"></div>
    <div class="container">
      <!-- Logo con animaci√≥n de latido -->
      <img src="../static/assets/img/logo.png" alt="Logo CHASKA" class="logo heartbeat" />

      <!-- T√≠tulo "CHASKA" encima de los botones -->
      <h1 class="main-title">CHASKA</h1>

      <!-- Texto "Bienvenido" din√°mico -->
      <div id="welcome-text" class="welcome-text">Allillanchu!</div>

      <!-- Botones de idioma -->
      <div class="buttons">
        <button class="btn" data-lang="quechua" style="background-color: #f0c905">Quechua</button>
        <button class="btn" data-lang="es">Espa√±ol</button>
        <button class="btn" data-lang="en" style="background-color: #1976d2; color: #fff">Ingl√©s</button>
      </div>
    </div>

    <!-- Audio de bienvenida (oculto) -->
    <audio id="welcome-audio">
      <source src="../static/assets/audio/bienvenida_quechua.mp3" type="audio/mpeg" />
    </audio>

    <!-- Indicador de audio (opcional) -->
    <p id="audio-hint" class="audio-hint">
      El panel de proximidad tiene que estar funcionando para activar audio
    </p>

    <!-- Tu script original -->
    <script src="../static/js/script.js"></script>

    <!-- Socket.IO para integraci√≥n con GPIO y sensor -->
    <script src="https://cdn.socket.io/4.3.2/socket.io.min.js"></script>
    <script>
      const socket = io();

      socket.on("connect", () => {
        console.log("‚úÖ Socket conectado");
      });

      // Redirecci√≥n desde sensor o bot√≥n f√≠sico
      socket.on("redirigir", (data) => {
        if (data.pagina) {
          console.log("üîÅ Redirigiendo a:", data.pagina);
          window.location.href = data.pagina;
        }
      });

      // Redirecci√≥n desde botones virtuales
      document.querySelectorAll(".btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          const lang = btn.dataset.lang;
          if (lang === "es") {
            window.location.href = "es.html";
          } else if (lang === "en") {
            window.location.href = "en.html";
          } else if (lang === "quechua") {
            window.location.href = "quechua.html";
          }
        });
      });
    </script>
  </body>
</html>
